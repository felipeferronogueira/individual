<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard Climático e Ventiladores — São Paulo</title>

  <!-- Lucide Icons CDN -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Segoe UI", Arial, sans-serif;
      background: linear-gradient(135deg, #f1f4f6 0%, #e8ecef 100%);
      color: #222;
      min-height: 100vh;
    }

    /* Header */
    header {
      background: linear-gradient(135deg, #004d40 0%, #00695c 100%);
      color: white;
      padding: 32px 24px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      position: relative;
      overflow: hidden;
    }

    .header-circle-1 {
      position: absolute;
      top: 0;
      right: 0;
      width: 256px;
      height: 256px;
      background: white;
      opacity: 0.1;
      border-radius: 50%;
      transform: translate(30%, -30%);
    }

    .header-circle-2 {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 192px;
      height: 192px;
      background: white;
      opacity: 0.1;
      border-radius: 50%;
      transform: translate(-30%, 30%);
    }

    .header-content {
      position: relative;
      z-index: 10;
      max-width: 1280px;
      margin: 0 auto;
    }

    .header-title {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      margin-bottom: 8px;
    }

    .header-title h1 {
      font-size: 1.75rem;
      font-weight: 700;
    }

    .header-subtitle {
      text-align: center;
      color: rgba(255, 255, 255, 0.8);
      font-size: 0.95rem;
    }

    /* Container */
    .container {
      max-width: 1280px;
      margin: 0 auto;
      padding: 40px 24px;
    }

    /* KPIs Grid */
    .kpis-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 24px;
      margin-bottom: 40px;
    }

    .kpi-card {
      background: white;
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      border-bottom: 4px solid;
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .kpi-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
    }

    .kpi-card.normal {
      border-bottom-color: #0d5c50;
    }

    .kpi-card.alert {
      border-bottom-color: #b91c1c;
    }

    .kpi-bg-circle {
      position: absolute;
      top: 0;
      right: 0;
      width: 128px;
      height: 128px;
      border-radius: 50%;
      opacity: 0.05;
      transform: translate(40%, -40%);
      transition: all 0.3s ease;
    }

    .kpi-card:hover .kpi-bg-circle {
      transform: translate(40%, -40%) scale(1.1);
    }

    .kpi-card.normal .kpi-bg-circle {
      background: #0d5c50;
    }

    .kpi-card.alert .kpi-bg-circle {
      background: #b91c1c;
    }

    .kpi-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
      position: relative;
      z-index: 10;
    }

    .kpi-icon {
      padding: 10px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .kpi-card.normal .kpi-icon {
      background: rgba(13, 92, 80, 0.08);
    }

    .kpi-card.alert .kpi-icon {
      background: rgba(185, 28, 28, 0.08);
    }

    .kpi-icon svg {
      width: 24px;
      height: 24px;
    }

    .kpi-card.normal .kpi-icon svg {
      stroke: #0d5c50;
    }

    .kpi-card.alert .kpi-icon svg {
      stroke: #b91c1c;
    }

    .kpi-title {
      font-size: 0.9rem;
      font-weight: 600;
      color: #666;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .kpi-value {
      font-size: 1.5rem;
      font-weight: bold;
      color: #1a1a1a;
      margin-bottom: 8px;
      line-height: 1.2;
      position: relative;
      z-index: 10;
    }

    .kpi-subtitle {
      font-size: 0.85rem;
      color: #888;
      font-weight: 500;
      position: relative;
      z-index: 10;
    }

    /* Charts Grid */
    .charts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
      gap: 24px;
    }

    @media (max-width: 1100px) {
      .charts-grid {
        grid-template-columns: 1fr;
      }
    }

    .chart-card {
      background: white;
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      transition: all 0.3s ease;
    }

    .chart-card:hover {
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
    }

    .chart-card.humidity {
      border-top: 3px solid #1e88e5;
    }

    .chart-card.ventilators {
      border-top: 3px solid #00695c;
    }

    .chart-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 20px;
    }

    .chart-icon {
      padding: 10px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .chart-card.humidity .chart-icon {
      background: rgba(30, 136, 229, 0.08);
    }

    .chart-card.ventilators .chart-icon {
      background: rgba(0, 105, 92, 0.08);
    }

    .chart-icon svg {
      width: 24px;
      height: 24px;
    }

    .chart-card.humidity .chart-icon svg {
      stroke: #1e88e5;
    }

    .chart-card.ventilators .chart-icon svg {
      stroke: #00695c;
    }

    .chart-title {
      font-size: 1.2rem;
      font-weight: 700;
      color: #1a1a1a;
    }

    .chart-legend {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      margin-top: 16px;
      padding: 8px 16px;
      background: rgba(185, 28, 28, 0.08);
      border-radius: 8px;
      color: #b91c1c;
      font-size: 0.85rem;
      font-weight: 600;
      width: fit-content;
      margin-left: auto;
      margin-right: auto;
    }

    /* Ventilators Distribution */
    .distribution-container {
      background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%);
      border-radius: 12px;
      padding: 20px;
    }

    .total-box {
      background: linear-gradient(135deg, #004d40 0%, #00695c 100%);
      color: white;
      text-align: center;
      padding: 16px;
      border-radius: 12px;
      margin-bottom: 12px;
      font-size: 1.15rem;
      font-weight: 700;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      position: relative;
      overflow: hidden;
    }

    .total-box-circle {
      position: absolute;
      top: 0;
      right: 0;
      width: 80px;
      height: 80px;
      background: white;
      opacity: 0.1;
      border-radius: 50%;
      transform: translate(30%, -30%);
    }

    .total-box-content {
      position: relative;
      z-index: 10;
    }

    .total-number {
      font-size: 1.4rem;
    }

    .area-item {
      background: white;
      border-radius: 12px;
      padding: 14px 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
      box-shadow: 0 1px 4px rgba(0, 0, 0, 0.08);
      transition: all 0.2s ease;
    }

    .area-item:last-child {
      margin-bottom: 0;
    }

    .area-item:hover {
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
    }

    .area-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .area-bar {
      width: 6px;
      height: 40px;
      border-radius: 3px;
    }

    .area-bar.positive {
      background: #16a34a;
    }

    .area-bar.negative {
      background: #dc2626;
    }

    .area-name {
      color: #1a1a1a;
      font-size: 0.95rem;
      font-weight: 700;
    }

    .area-right {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .area-values {
      font-weight: 600;
      font-size: 0.95rem;
      color: #666;
    }

    .area-badge {
      display: flex;
      align-items: center;
      gap: 4px;
      padding: 4px 10px;
      border-radius: 8px;
    }

    .area-badge.positive {
      background: rgba(22, 163, 74, 0.08);
      color: #16a34a;
    }

    .area-badge.negative {
      background: rgba(220, 38, 38, 0.08);
      color: #dc2626;
    }

    .area-badge svg {
      width: 16px;
      height: 16px;
    }

    .area-badge-value {
      font-weight: bold;
      font-size: 0.9rem;
    }
  </style>
</head>

<body>
  <!-- Header -->
  <header>

    <div class="header-content">
      <div class="header-title">
        <h1>Dashboard Climático e Ventiladores — SP</h1>
      </div>
      <div class="header-subtitle">
        Monitoramento climático e hospitalar da cidade de <strong>São Paulo (SP)</strong>
      </div>
    </div>
  </header>

  <!-- Container Principal -->
  <div class="container">
    <!-- KPIs -->
    <div class="kpis-grid">
      <!-- KPI 1 - Relatório -->
      <div class="kpi-card normal">
        <div class="kpi-bg-circle"></div>
        <div class="kpi-header">
          <div class="kpi-icon">
            <i data-lucide="file-text"></i>
          </div>
          <h3 class="kpi-title">Relatório</h3>
        </div>
        <p class="kpi-value">Pico de Umidade</p>
        <p class="kpi-subtitle">Ago/Set - 3 meses atrás</p>
      </div>

      <!-- KPI 2 - Risco Atual -->
      <div class="kpi-card alert">
        <div class="kpi-bg-circle"></div>
        <div class="kpi-header">
          <div class="kpi-icon">
            <i data-lucide="alert-triangle"></i>
          </div>
          <h3 class="kpi-title">Risco Atual</h3>
        </div>
        <p class="kpi-value">Alto</p>
        <p class="kpi-subtitle">Nov/Dez - Alta Demanda</p>
      </div>

      <!-- KPI 3 - Recomendação -->
      <div class="kpi-card normal">
        <div class="kpi-bg-circle"></div>
        <div class="kpi-header">
          <div class="kpi-icon">
            <i data-lucide="lightbulb"></i>
          </div>
          <h3 class="kpi-title">Recomendação</h3>
        </div>
        <p class="kpi-value">Reforçar UTI e PS</p>
        <p class="kpi-subtitle">Ação prioritária</p>
      </div>
    </div>

    <!-- Charts Grid -->
    <div class="charts-grid">
      <!-- Gráfico de Umidade -->
      <div class="chart-card humidity">
        <div class="chart-header">
          <div class="chart-icon">
            <i data-lucide="droplets"></i>
          </div>
          <h4 class="chart-title">Evolução Mensal da Umidade (%)</h4>
        </div>
        <div id="graficoUmidade" style="height: 280px;"></div>
        <div class="chart-legend">
          <span style="font-size: 1.2rem;">⚠️</span>
          Pico do período: Agosto (94%)
        </div>
      </div>

      <!-- Distribuição de Ventiladores -->
      <div class="chart-card ventilators">
        <div class="chart-header">
          <div class="chart-icon">
            <i data-lucide="wind"></i>
          </div>
          <h4 class="chart-title">Distribuição Atual de Ventiladores por Área</h4>
        </div>

        <div class="distribution-container">
          <div class="total-box">
            <div class="total-box-circle"></div>
            <div class="total-box-content">
              Total de Ventiladores: <span class="total-number">30</span> unidades
            </div>
          </div>

          <!-- UTI -->
          <div class="area-item">
            <div class="area-left">
              <div class="area-bar positive"></div>
              <strong class="area-name">UTI</strong>
            </div>
            <div class="area-right">
              <span class="area-values">10 → 20</span>
              <div class="area-badge positive">
                <i data-lucide="trending-up"></i>
                <span class="area-badge-value">+10</span>
              </div>
            </div>
          </div>

          <!-- Pronto Socorro -->
          <div class="area-item">
            <div class="area-left">
              <div class="area-bar negative"></div>
              <strong class="area-name">Pronto Socorro</strong>
            </div>
            <div class="area-right">
              <span class="area-values">8 → 6</span>
              <div class="area-badge negative">
                <i data-lucide="trending-down"></i>
                <span class="area-badge-value">-2</span>
              </div>
            </div>
          </div>

          <!-- Cirurgia -->
          <div class="area-item">
            <div class="area-left">
              <div class="area-bar negative"></div>
              <strong class="area-name">Cirurgia</strong>
            </div>
            <div class="area-right">
              <span class="area-values">6 → 4</span>
              <div class="area-badge negative">
                <i data-lucide="trending-down"></i>
                <span class="area-badge-value">-2</span>
              </div>
            </div>
          </div>

          <!-- Enfermaria -->
          <div class="area-item">
            <div class="area-left">
              <div class="area-bar negative"></div>
              <strong class="area-name">Enfermaria</strong>
            </div>
            <div class="area-right">
              <span class="area-values">7 → 3</span>
              <div class="area-badge negative">
                <i data-lucide="trending-down"></i>
                <span class="area-badge-value">-4</span>
              </div>
            </div>
          </div>

          <!-- Pediatria -->
          <div class="area-item">
            <div class="area-left">
              <div class="area-bar negative"></div>
              <strong class="area-name">Pediatria</strong>
            </div>
            <div class="area-right">
              <span class="area-values">7 → 5</span>
              <div class="area-badge negative">
                <i data-lucide="trending-down"></i>
                <span class="area-badge-value">-2</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ApexCharts -->
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

  <script>
    // Inicializar Lucide Icons
    lucide.createIcons();

    // Dados do Gráfico de Umidade
    const meses = ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'];
    const dadosUmidade = [65, 67, 70, 69, 70, 72, 75, 94, 87, 76, 74, 0];
    const mesDestaqueUmidade = 'Ago';
    const coresUmidade = meses.map(m => m === mesDestaqueUmidade ? '#b91c1c' : '#1e88e5');

    // Renderizar Gráfico de Umidade
    const optionsUmidade = {
      chart: {
        type: "bar",
        toolbar: { show: false },
        fontFamily: 'Segoe UI, Arial, sans-serif'
      },
      series: [{
        name: "Umidade (%)",
        data: dadosUmidade
      }],
      xaxis: {
        categories: meses,
        labels: {
          show: true,
          style: {
            colors: '#000', // ← Preto para labels dos meses
            fontSize: '12px',
            fontWeight: 600
          }
        },
        axisBorder: { show: true, color: '#e0e0e0' },
        axisTicks: { show: false }
      },
      yaxis: {
        labels: {
          show: true,
          style: {
            colors: '#000', // ← Preto para labels do eixo Y
            fontSize: '12px',
            fontWeight: 600
          }
        },
        axisBorder: { show: true, color: '#e0e0e0' }
      },
      dataLabels: {
        enabled: true,
        style: {
          fontSize: '12px',
          fontWeight: 700,
          colors: ['#fff'] // ← Branco dentro das barras
        },
        offsetY: -20,
        background: {
          enabled: false
        }
      },
      grid: {
        show: true,
        borderColor: '#f0f0f0',
        strokeDashArray: 3,
        xaxis: { lines: { show: false } }
      },
      colors: coresUmidade,
      plotOptions: {
        bar: {
          distributed: true,
          borderRadius: 8,
          borderRadiusApplication: 'end',
          columnWidth: "60%"
        }
      },
      legend: { show: false },
      tooltip: {
        enabled: true,
        y: {
          formatter: function (val) { return val + "%" }
        },
        style: { fontSize: '12px' }
      }
    };

    const chartUmidade = new ApexCharts(document.querySelector("#graficoUmidade"), optionsUmidade);
    chartUmidade.render();
  </script>


</body>

</html>